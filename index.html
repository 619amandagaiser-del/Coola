<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Titan Hub & Proxy</title>
    <style>
        :root { --bg: #0f172a; --nav: #1e293b; --accent: #3b82f6; --text: #f8fafc; }
        body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: var(--text); display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        header { background: var(--nav); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.3); z-index: 10; }
        h1 { margin: 0; font-size: 1.5rem; cursor: pointer; }
        .proxy-bar { display: flex; gap: 10px; flex-grow: 1; max-width: 600px; margin-left: 20px; }
        .proxy-bar input { flex-grow: 1; padding: 10px 15px; border-radius: 20px; border: none; outline: none; background: #334155; color: white; }
        .proxy-bar button { padding: 10px 20px; border-radius: 20px; border: none; background: var(--accent); color: white; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .proxy-bar button:hover { background: #2563eb; }
        
        #content-area { flex-grow: 1; position: relative; }
        #game-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; padding: 20px; overflow-y: auto; height: 100%; box-sizing: border-box; }
        .game-card { background: var(--nav); padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.2s, background 0.2s; }
        .game-card:hover { transform: translateY(-5px); background: #334155; }
        .game-icon { width: 50px; height: 50px; background: var(--accent); border-radius: 10px; margin: 0 auto 10px auto; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        
        #viewport { display: none; width: 100%; height: 100%; border: none; background: white; }
    </style>
</head>
<body>

<header>
    <h1 onclick="showHome()">ðŸš€ Titan Hub</h1>
    <div class="proxy-bar">
        <input type="text" id="urlInput" placeholder="Enter a URL to unblock (e.g., https://google.com)">
        <button onclick="launchProxy()">Browse</button>
    </div>
</header>

<div id="content-area">
    <div id="game-grid">
        </div>
    <iframe id="viewport" src=""></iframe>
</div>

<script>
    // Proxy Functionality
    function launchProxy() {
        let url = document.getElementById('urlInput').value.trim();
        if (!url) return;
        if (!url.startsWith('http')) url = 'https://' + url;
        
        // This MUST point to your Firebase setup, e.g., /p?url=
        // If you haven't fixed the backend yet, this will still 404.
        const proxyUrl = `/p?url=${encodeURIComponent(url)}`; 
        
        document.getElementById('game-grid').style.display = 'none';
        const iframe = document.getElementById('viewport');
        iframe.style.display = 'block';
        iframe.src = proxyUrl;
    }

    function showHome() {
        document.getElementById('viewport').style.display = 'none';
        document.getElementById('viewport').src = "";
        document.getElementById('game-grid').style.display = 'grid';
    }

    function launchGame(url) {
        document.getElementById('game-grid').style.display = 'none';
        const iframe = document.getElementById('viewport');
        iframe.style.display = 'block';
        iframe.src = url;
    }

    // 50 Games Array
    const games = [
        { name: "2048", url: "https://play2048.co/", icon: "ðŸ”¢" },
        { name: "Flappy Bird", url: "https://flappybird.io/", icon: "ðŸ¦" },
        { name: "Pac-Man", url: "https://freepacman.org/", icon: "ðŸŸ¡" },
        { name: "Tetris", url: "https://tetris.com/play-tetris", icon: "ðŸ§±" },
        { name: "Slither.io", url: "https://slither.io/", icon: "ðŸ" },
        { name: "Agar.io", url: "https://agar.io/", icon: "ðŸ¦ " },
        { name: "Hole.io", url: "https://hole-io.com/", icon: "ðŸ•³ï¸" },
        { name: "Paper.io 2", url: "https://paper-io.com/", icon: "ðŸ§»" },
        { name: "Krunker", url: "https://krunker.io/", icon: "ðŸ”«" },
        { name: "Skribbl.io", url: "https://skribbl.io/", icon: "âœï¸" },
        { name: "Shell Shockers", url: "https://shellshock.io/", icon: "ðŸ¥š" },
        { name: "Surviv.io", url: "https://surviv.io/", icon: "ðŸª–" },
        { name: "Venge.io", url: "https://venge.io/", icon: "ðŸŽ¯" },
        { name: "Zombs Royale", url: "https://zombsroyale.io/", icon: "ðŸ§Ÿ" },
        { name: "Little Alchemy", url: "https://littlealchemy.com/", icon: "âš—ï¸" },
        { name: "Little Alchemy 2", url: "https://littlealchemy2.com/", icon: "ðŸ§ª" },
        { name: "Wordle", url: "https://www.nytimes.com/games/wordle/index.html", icon: "ðŸ”¤" },
        { name: "Cookie Clicker", url: "https://orteil.dashnet.org/cookieclicker/", icon: "ðŸª" },
        { name: "Geometry Dash", url: "https://geometrydash.io/", icon: "ðŸŸ©" },
        { name: "Subway Surfers", url: "https://subwaysurfers.com/", icon: "ðŸƒ" },
        { name: "Temple Run", url: "https://templerun.com/", icon: "ðŸƒâ€â™‚ï¸" },
        { name: "Crossy Road", url: "https://poki.com/en/g/crossy-road", icon: "ðŸ”" },
        { name: "Minecraft Classic", url: "https://classic.minecraft.net/", icon: "â›ï¸" },
        { name: "Retro Bowl", url: "https://poki.com/en/g/retro-bowl", icon: "ðŸˆ" },
        { name: "Drive Mad", url: "https://poki.com/en/g/drive-mad", icon: "ðŸš™" },
        { name: "Stickman Hook", url: "https://poki.com/en/g/stickman-hook", icon: "ðŸª" },
        { name: "Monkey Mart", url: "https://poki.com/en/g/monkey-mart", icon: "ðŸ’" },
        { name: "Moto X3M", url: "https://poki.com/en/g/moto-x3m", icon: "ðŸï¸" },
        { name: "Vampire Survivors", url: "https://poncle.itch.io/vampire-survivors", icon: "ðŸ§›" },
        { name: "Friday Night Funkin'", url: "https://ninja-muffin24.itch.io/funkin", icon: "ðŸŽ¤" },
        { name: "Chess.com", url: "https://www.chess.com/play/computer", icon: "â™Ÿï¸" },
        { name: "Lichess", url: "https://lichess.org/", icon: "â™ž" },
        { name: "Minesweeper", url: "https://minesweeperonline.com/", icon: "ðŸ’£" },
        { name: "Solitaire", url: "https://www.google.com/logos/fnbx/solitaire/standalone.html", icon: "ðŸƒ" },
        { name: "Snake", url: "https://www.google.com/search?q=play+snake", icon: "ðŸ" },
        { name: "Tic Tac Toe", url: "https://playtictactoe.org/", icon: "âŒ" },
        { name: "Checkers", url: "https://www.247checkers.com/", icon: "ðŸ”´" },
        { name: "Connect 4", url: "https://c4arena.com/", icon: "ðŸŸ¡" },
        { name: "Battleship", url: "https://battleship-game.org/", icon: "ðŸš¢" },
        { name: "Dinosaur Game", url: "https://chromedino.com/", icon: "ðŸ¦–" },
        { name: "Super Mario 64", url: "https://sm64web.com/", icon: "ðŸ„" },
        { name: "Doom", url: "https://dos.zone/doom-dec-1993/", icon: "ðŸ”«" },
        { name: "Quake", url: "https://www.netquake.io/", icon: "ðŸ’¥" },
        { name: "Wolfenstein 3D", url: "https://wolf3d.net/", icon: "ðŸ°" },
        { name: "Oregon Trail", url: "https://classicreload.com/oregon-trail.html", icon: "wagon" },
        { name: "Space Invaders", url: "https://freekong.org/invaders/", icon: "ðŸ‘¾" },
        { name: "Asteroids", url: "https://freeasteroids.org/", icon: "â˜„ï¸" },
        { name: "Pong", url: "https://ponggame.org/", icon: "ðŸ“" },
        { name: "Breakout", url: "https://elgoog.im/breakout/", icon: "ðŸ§±" },
        { name: "Frogger", url: "https://froggerclassic.appspot.com/", icon: "ðŸ¸" }
    ];

    // Build the Game Grid
    const grid = document.getElementById('game-grid');
    games.forEach(game => {
        const card = document.createElement('div');
        card.className = 'game-card';
        card.onclick = () => launchGame(game.url);
        
        card.innerHTML = `
            <div class="game-icon">${game.icon}</div>
            <div style="font-weight: bold;">${game.name}</div>
        `;
        grid.appendChild(card);
    });
</script>

</body>
</html>
